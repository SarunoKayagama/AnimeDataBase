<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

  <meta charset="UTF-8">
  <title>Авторы</title>

</head>
<body>
<section>
  <div class="container">
    <div class="shadow-lg p-3 mb-5 rounded bg-info" >
      <a class="shadow-lg p-3 mb-5 rounded bg-danger text-warning" href="/" >Аниме БД</a>
      <a href="/Characters"><button type="button" class="btn btn-secondary">Characters</button></a>
      <a href="/Authors"><button type="button" class="btn btn-secondary" href="Authors">Authors</button></a>
      <a href="/Anime"><button type="button" class="btn btn-secondary">Anime</button></a></div>
    <form onsubmit="get_action(this);" class="">
      <div style="width: 250px; float: left" class="mb-3"><input class="form-control" type="text" id="search" placeholder="Имя автора"></div>
      <div style="float: left"><input class="btn btn-primary mb-3" type="submit" id="go" value="Искать"></div>
    </form>
    <table class="table table-bordered ">
      <thead class="table-dark">
      <tr>
        <th scope="col" class="col">ID</th>
        <th scope="col" class="col">Полное имя</th>
        <th scope="col" class="col">Действия:</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="Author : ${AuthorsList}">
        <th scope="row"><a th:href="@{Authors/{id}(id=${Author.getAuthorId()})}" th:text="${Author.getAuthorId}"></th> <!-- или внутри th -->
        <td th:text="${Author.getAuthorName}"></td>
        <td><a th:href="@{Authors/Edit/{id}(id=${Author.getAuthorId()})}"><button type="button" class="btn btn-secondary">Изменить</button></a><a th:href="@{Author/Delete/{id}(id=${Author.getAuthorId()})}"><button type="button" class="btn btn-secondary" href="Delete">Удалить</button></a></td>
        <!--      TODO Добавить в контроллер-->
<!--        TODO Добавить добавление нового автора-->
      </tr>
      </tbody>
    </table>
    <th><a href="Authors/New"><button type="button" class="btn btn-secondary">Добавить Автора</button></a></th>
  </div>
</section>
<script type="text/javascript">
  function get_action(form) {
    form.action = 'http://localhost:8080/Authors/Find/'+document.getElementById("search").value;
  }
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
</body>
</html>